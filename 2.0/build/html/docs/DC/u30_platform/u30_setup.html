<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
<!-- OneTrust Cookies Consent Notice start for xilinx.github.io -->

<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-document-language="true" type="text/javascript" charset="UTF-8" data-domain-script="03af8d57-0a04-47a6-8f10-322fa00d8fc7" ></script>
<script type="text/javascript">
function OptanonWrapper() { }
</script>
<!-- OneTrust Cookies Consent Notice end for xilinx.github.io -->
<!-- Google Tag Manager -->
<script type="text/plain" class="optanon-category-C0002">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-5RHQV7');</script>
<!-- End Google Tag Manager -->
  <title>Alveo U30 Platform setup &mdash; Vitis™ Video Analytics SDK 2.0 documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-5RHQV7" height="0" width="0" style="display:none;visibility:hidden" class="optanon-category-C0002"></iframe></noscript>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="../../../index.html" class="icon icon-home"> Vitis™ Video Analytics SDK
            <img src="../../../_static/xilinx-header-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Release Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../release_notes.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Base Infrastructure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../common/common_plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/vvas_meta_data_structures.html">Meta Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../common/for_developers.html">For Advanced Developers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Embedded</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Embedded/platforms_and_applications.html">Platforms &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Embedded/embedded-plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Embedded/Tutorials/Tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data Center</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../platforms_and_applications.html">Platforms &amp; Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DC_plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials/Tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../freq_asked_questions.html">Frequently Asked Questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Versions</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/VVAS/1.1/build/html/index.html">1.1</a></li>
<li class="toctree-l1"><a class="reference external" href="https://xilinx.github.io/VVAS/1.0/build/html/index.html">1.0</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Vitis™ Video Analytics SDK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Alveo U30 Platform setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/docs/DC/u30_platform/u30_setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="alveo-u30-platform-setup">
<h1>Alveo U30 Platform setup<a class="headerlink" href="#alveo-u30-platform-setup" title="Permalink to this heading">¶</a></h1>
<p>This section covers the steps to prepare setup for Alveo U30 card based platform for PCIe based solutions like Data Center usecases. This setup consists of one or more Alveo U30 cards installed in the PCIe slots of a server.</p>
<div class="section" id="hardware-requirements">
<h2>Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Alveo U30 card (<a class="reference external" href="https://www.xilinx.com/products/boards-and-kits/alveo/u30.html">https://www.xilinx.com/products/boards-and-kits/alveo/u30.html</a>)</p></li>
<li><p>Compatible/Recommended x86 servers</p></li>
</ul>
</div>
<div class="section" id="software-requirements">
<h2>Software Requirements<a class="headerlink" href="#software-requirements" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>Host system with Ubuntu 20.04 kernel 5.10</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This platform has been tested on UBuntu 20.04, kernel 5.10 only.</p>
</div>
</div>
<div class="section" id="release-package">
<h2>Release Package<a class="headerlink" href="#release-package" title="Permalink to this heading">¶</a></h2>
<p>Complete VVAS DC/PCIe based Transcoding solution for Alveo U30 card has been provided as a release package and can be downloaded from <strong>Coming Soon</strong>.</p>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>Pre-built binaries for this example designs will be available soon. For more information, you may contact <a class="reference external" href="mailto:vvas_discuss&#37;&#52;&#48;amd&#46;com">vvas_discuss<span>&#64;</span>amd<span>&#46;</span>com</a></p>
</div>
</div></blockquote>
</div>
<div class="section" id="installation-steps">
<h2>Installation Steps<a class="headerlink" href="#installation-steps" title="Permalink to this heading">¶</a></h2>
<p>Before starting software installation, make sure U30 cards are installed and detected. Execute the command mentioned below:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>lspci <span class="p">|</span> grep Xilinx
</pre></div>
</div>
<p>If the messages as a result of above command on console shows “Processing accelerators: Xilinx Corporation” then devices are detected and you may continue with the installation following the steps mentioned below.</p>
<ol class="arabic simple">
<li><p>On the host server, navigate to the folder where release package (vvas-2.0_dc.zip) has been downloaded.</p></li>
<li><p>Install the release packages</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>unzip vvas-2.0_dc.zip
<span class="nb">cd</span> vvas-2.0_dc
sudo ./install
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>After all packages are installed successfully (as seen from the last few messages of install step - “++++ ++++ Post Install Verification Successful ++++ ++++”), login as root
and setup environment to flash the U30</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo su
<span class="nb">source</span> /opt/xilinx/xrt/setup.sh
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Flash the card from the installed folder. Please note this step takes longer depending on the number of U30 cards
setup in the host server.</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./u30flashall.sh
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Below is a sample message displayed on the console which shows successful flashing of one U30 card ( note : one U30 card has 2 Zynq MPSoC devices)</p></li>
</ol>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>./u30flashall.sh
<span class="o">=====================================================</span>
<span class="o">[</span><span class="m">1</span><span class="o">]</span>: Updating flash image<span class="o">(</span>s<span class="o">)</span> <span class="k">for</span> device: <span class="m">0000</span>:d9:00.0
<span class="o">=====================================================</span>
xbmgmt program -d <span class="m">0000</span>:d9:00.0 -b shell --image /opt/xilinx/firmware/u30/gen3x4/base/partition.xsabin
<span class="o">[</span>PASSED<span class="o">]</span> : Flash erased &lt; 1m 48s &gt;
<span class="o">[</span>PASSED<span class="o">]</span> : Flash programmed &lt; 1m 10s &gt;
<span class="o">[</span>PASSED<span class="o">]</span> : Flash verified &lt; 29s &gt;
INFO     : Base flash image has been programmed successfully.
****************************************************
Cold reboot machine to load the new image on device.
****************************************************

<span class="o">=====================================================</span>
<span class="o">[</span><span class="m">2</span><span class="o">]</span>: Updating flash image<span class="o">(</span>s<span class="o">)</span> <span class="k">for</span> device: <span class="m">0000</span>:d8:00.0
<span class="o">=====================================================</span>
xbmgmt program -d <span class="m">0000</span>:d8:00.0 -b shell --image /opt/xilinx/firmware/u30/gen3x4/base/partition.xsabin
<span class="o">[</span>PASSED<span class="o">]</span> : Flash erased &lt; 1m 45s &gt;
<span class="o">[</span>PASSED<span class="o">]</span> : Flash programmed &lt; 1m 7s &gt;
<span class="o">[</span>PASSED<span class="o">]</span> : Flash verified &lt; 34s &gt;
INFO     : Base flash image has been programmed successfully.
****************************************************
Cold reboot machine to load the new image on device.
****************************************************
</pre></div>
</div>
<p>After successful flashing, reboot the host server. Once rebooted, setup is ready to run the use-cases.</p>
<p>For details about how to execute the test cases, refer to below mentioned Tutorials:</p>
<ul class="simple">
<li><p>Tutorial <a class="reference external" href="../Tutorials/transcoding.rst">Basic Transcoding</a></p></li>
<li><p>Tutorial <a class="reference external" href="../Tutorials/multi_instance_launch_utilities.rst">Multi-instance Transcoding</a></p></li>
</ul>
</div>
</div>


           </div>
          </div>
          
                  <style>
                        .footer {
                        position: fixed;
                        left: 0;
                        bottom: 0;
                        width: 100%;
                        }
                  </style>
				  
				  <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on December 28, 2022.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>